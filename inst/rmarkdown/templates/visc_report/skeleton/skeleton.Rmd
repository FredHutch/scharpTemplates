---
title: "Title of Your Submission"
shorttitle: "Short Title"
from:
 - name: FirstNameA LastNameA
   email: foo@bar.com
   contact: yes
 - name: FirstNameB LastNameB
to:
 - name: FirstNameA LastNameA
 - name: FirstNameB LastNameB
 - name: FirstNameC LastNameC
 - name: FirstNameD LastNameD
 - name: FirstNameE LastNameE
 - name: FirstNameF LastNameF
cc:
 - name: FirstNameA LastNameA
 - name: FirstNameB LastNameB
 - name: FirstNameC LastNameC
 - name: FirstNameD LastNameD
 - name: FirstNameE LastNameE
summary: 
  A short summary about your report. 
bibliography: bibliography.bib
lof: no
toc: no
output: scharpTemplates::visc_report
---

```{r echo=FALSE, eval=TRUE}
library(knitr)
# Set some knitr options
# This will always generate two figures (pdf and png, which can be handy for presentations)
opts_chunk$set(tidy = TRUE, cache = FALSE, messages = FALSE, warning = FALSE, echo = FALSE, dev = c("pdf", "png"), dpi = 200)
```

```{r}
# Load necessary packages
# More options could be added later in the template
suppressPackageStartupMessages({
  library(ggplot2)
  library(grid)
  library(reshape2)
  library(devtools)
  library(xtable)
  library(data.table)
})
# Create a theme
# This can be overloaded with other options
visc_theme <- theme(legend.position = "bottom", legend.margin = unit(0, "cm"))
#Need to set xtable comment = FALSE for printing
options(xtable.comment = FALSE)
```

```{r eval=FALSE}
# This report uses the data compiled in the AUP567 data package
# You can install it as follows
install_git("https://github.fhcrc.org/VIDD-VISC/AUP567")
```

```{r eval=FALSE}
# Load data package
# This will have to be replaced with your own study package
# Then change to eval=TRUE
library(AUP567)
# Load data
data(AUP567)
```

# Summary of Main Results

Summary Here


# Background

Backgroup Text Here


# Objectives

Objectives Here


# Endpoints

Endpoints Here


# Lab Methods

Lab Methods Here


# Statistical Methods

Statistical Methods Here


# Participant Cohort

Participant Cohort


# Results

Writing up results section

## Section 1

## Section 2



Testing Reference: @Huang:2013fl.



# Figures and Tables

\clearpage

```{r fig.cap="A simple figure"}
library(ggplot2)
qplot(1:10,rnorm(10))
```


```{r results="asis"}
# Example of a table
# You can also use xtable for more options
data(mtcars)
kable(mtcars, format = "latex", caption = "A simple table")
```

\clearpage 


```{r session_info_table, results = 'asis'}
my_session_info <- session_info()

my_session_info1 <- data.table(name = names(my_session_info[[1]]),
                               value = matrix(unlist(my_session_info[[1]]),
                                              nrow = length(my_session_info[[1]])))

if (length(system("git remote -v", intern = TRUE)) == 0) {
  # No Remote Connection, so just give absolute path
  folder_info <- data.table(name = 'location', value = getwd())
  my_session_info1 <- rbindlist(list(my_session_info1,folder_info))
} else{
  # Git Remote connection, so getting url and path
  url_info <- data.table(name = 'repo', value = substr(remote <- system("git remote -v", intern = TRUE)[1], regexpr("\t", remote) + 1, regexpr(" ", remote) - 1))
  repo_name <- strsplit(sub('\\.git','',url_info$value), '/')[[1]][length(strsplit(url_info$value, '/')[[1]])]
  folder_info <- data.table(name = 'location', value = substr(getwd(),regexpr(repo_name, getwd()),nchar(getwd())))
  my_session_info1 <- rbindlist(list(my_session_info1,url_info,folder_info))
}
print(xtable(x = my_session_info1,
             caption = 'Supplemental Table: Reproducibility Software Session Information',
             label = 'session_info'), include.rownames = F, include.colnames = F, size = "\\normalsize")


my_session_info2 <- data.table(matrix(unlist(my_session_info[[2]]),ncol = length(my_session_info[[2]])))
setnames(my_session_info2,c(paste('V', 1:5, sep = '')), names(my_session_info[[2]]))
# Only want attached packages
my_session_info2 <- my_session_info2[`*` == '*']
my_session_info2 <- my_session_info2[,`*` := NULL]
##Adding in Data Versions
my_session_info2 <- my_session_info2[, data.version := as.character(packageDescription(package, fields = c('DataVersion'))), by = package]
if (my_session_info2[, all(is.na(data.version))]) {
  my_session_info2 <- my_session_info2[, .(package,version,date,source)]
}else{
  my_session_info2[is.na(data.version), data.version := '']
  setcolorder(my_session_info2,neworder = c('package','version','data.version','date','source'))
}
print(xtable(x = my_session_info2,
             caption = 'Supplemental Table: Reproducibility Software Package Version Information',
             label = 'session_info2'), include.rownames = F, size = "\\normalsize")
```

\clearpage 

# References
